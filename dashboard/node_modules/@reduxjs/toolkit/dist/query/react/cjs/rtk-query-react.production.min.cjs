"use strict";var Ie=Object.create;var W=Object.defineProperty;var Ue=Object.getOwnPropertyDescriptor;var he=Object.getOwnPropertyNames;var be=Object.getPrototypeOf,Ee=Object.prototype.hasOwnProperty;var ke=(e,s)=>{for(var Q in s)W(e,Q,{get:s[Q],enumerable:!0})},j=(e,s,Q,T)=>{if(s&&typeof s=="object"||typeof s=="function")for(let R of he(s))!Ee.call(e,R)&&R!==Q&&W(e,R,{get:()=>s[R],enumerable:!(T=Ue(s,R))||T.enumerable});return e},M=(e,s,Q)=>(j(e,s,"default"),Q&&j(Q,s,"default")),Me=(e,s,Q)=>(Q=e!=null?Ie(be(e)):{},j(s||!e||!e.__esModule?W(Q,"default",{value:e,enumerable:!0}):Q,e)),Oe=e=>j(W({},"__esModule",{value:!0}),e);var b={};ke(b,{ApiProvider:()=>Ae,UNINITIALIZED_VALUE:()=>H,createApi:()=>He,reactHooksModule:()=>de,reactHooksModuleName:()=>Qe});module.exports=Oe(b);var ee=require("@reduxjs/toolkit/query");var et=require("@reduxjs/toolkit"),O=require("react-redux"),De=require("reselect");function V(e){return e.replace(e[0],e[0].toUpperCase())}function ce(e){return e.type==="query"}function le(e){return e.type==="mutation"}function $(e){return e.type==="infinitequery"}function w(e,...s){return Object.assign(e,...s)}var Te=require("@reduxjs/toolkit"),B=require("@reduxjs/toolkit/query"),n=require("react"),Z=require("react-redux");var H=Symbol();var z=require("react");function ye(e,s,Q,T){let R=(0,z.useMemo)(()=>({queryArgs:e,serialized:typeof e=="object"?s({queryArgs:e,endpointDefinition:Q,endpointName:T}):e}),[e,s,Q,T]),D=(0,z.useRef)(R);return(0,z.useEffect)(()=>{D.current.serialized!==R.serialized&&(D.current=R)},[R]),D.current.serialized===R.serialized?D.current.queryArgs:e}var G=require("react"),oe=require("react-redux");function _(e){let s=(0,G.useRef)(e);return(0,G.useEffect)(()=>{(0,oe.shallowEqual)(s.current,e)||(s.current=e)},[e]),(0,oe.shallowEqual)(s.current,e)?s.current:e}var Fe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ve=Fe(),Le=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ne=Le(),Ce=()=>ve||Ne?n.useLayoutEffect:n.useEffect,we=Ce(),ge=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:B.QueryStatus.pending}:e;function pe(e,...s){let Q={};return s.forEach(T=>{Q[T]=e[T]}),Q}var fe=["data","status","isLoading","isSuccess","isError","error"];function Re({api:e,moduleOptions:{batch:s,hooks:{useDispatch:Q,useSelector:T,useStore:R},unstable__sideEffectsInRender:D,createSelector:N},serializeQueryArgs:h,context:I}){let E=D?t=>t():n.useEffect;return{buildQueryHooks:q,buildInfiniteQueryHooks:ie,buildMutationHook:se,usePrefetch:re};function te(t,u,d){if(u?.endpointName&&t.isUninitialized){let{endpointName:o}=u,p=I.endpointDefinitions[o];d!==B.skipToken&&h({queryArgs:u.originalArgs,endpointDefinition:p,endpointName:o})===h({queryArgs:d,endpointDefinition:p,endpointName:o})&&(u=void 0)}let a=t.isSuccess?t.data:u?.data;a===void 0&&(a=t.data);let y=a!==void 0,r=t.isLoading,i=(!u||u.isLoading||u.isUninitialized)&&!y&&r,f=t.isSuccess||y&&(r&&!u?.isError||t.isUninitialized);return{...t,data:a,currentData:t.data,isFetching:r,isLoading:i,isSuccess:f}}function ne(t,u,d){if(u?.endpointName&&t.isUninitialized){let{endpointName:o}=u,p=I.endpointDefinitions[o];h({queryArgs:u.originalArgs,endpointDefinition:p,endpointName:o})===h({queryArgs:d,endpointDefinition:p,endpointName:o})&&(u=void 0)}let a=t.isSuccess?t.data:u?.data;a===void 0&&(a=t.data);let y=a!==void 0,r=t.isLoading,i=(!u||u.isLoading||u.isUninitialized)&&!y&&r,f=t.isSuccess||r&&y;return{...t,data:a,currentData:t.data,isFetching:r,isLoading:i,isSuccess:f}}function re(t,u){let d=Q(),a=_(u);return(0,n.useCallback)((y,r)=>d(e.util.prefetch(t,y,{...a,...r})),[t,d,a])}function m(t,u,{refetchOnReconnect:d,refetchOnFocus:a,refetchOnMountOrArgChange:y,skip:r=!1,pollingInterval:i=0,skipPollingIfUnfocused:f=!1,...o}={}){let{initiate:p}=e.endpoints[t],l=Q(),S=(0,n.useRef)(void 0);if(!S.current){let L=l(e.internalActions.internal_getRTKQSubscriptions());S.current=L}let c=ye(r?B.skipToken:u,B.defaultSerializeQueryArgs,I.endpointDefinitions[t],t),g=_({refetchOnReconnect:d,refetchOnFocus:a,pollingInterval:i,skipPollingIfUnfocused:f}),A=(0,n.useRef)(!1),U=o.initialPageParam,k=_(U),x=(0,n.useRef)(void 0),{queryCacheKey:v,requestId:K}=x.current||{},ue=!1;v&&K&&(ue=S.current.isRequestSubscribed(v,K));let ae=!ue&&A.current;return E(()=>{A.current=ue}),E(()=>{ae&&(x.current=void 0)},[ae]),E(()=>{let L=x.current;if(typeof process<"u",c===B.skipToken){L?.unsubscribe(),x.current=void 0;return}let Pe=x.current?.subscriptionOptions;if(!L||L.arg!==c){L?.unsubscribe();let Be=l(p(c,{subscriptionOptions:g,forceRefetch:y,...$(I.endpointDefinitions[t])?{initialPageParam:k}:{}}));x.current=Be}else g!==Pe&&L.updateSubscriptionOptions(g)},[l,p,y,c,g,ae,k,t]),[x,l,p,g]}function C(t,u){return(a,{skip:y=!1,selectFromResult:r}={})=>{let{select:i}=e.endpoints[t],f=ye(y?B.skipToken:a,h,I.endpointDefinitions[t],t),o=(0,n.useRef)(void 0),p=(0,n.useMemo)(()=>N([i(f),(A,U)=>U,A=>f],u,{memoizeOptions:{resultEqualityCheck:Z.shallowEqual}}),[i,f]),l=(0,n.useMemo)(()=>r?N([p],r,{devModeChecks:{identityFunctionCheck:"never"}}):p,[p,r]),S=T(A=>l(A,o.current),Z.shallowEqual),c=R(),g=p(c.getState(),o.current);return we(()=>{o.current=g},[g]),S}}function P(t){(0,n.useEffect)(()=>()=>{t.current?.unsubscribe?.(),t.current=void 0},[t])}function F(t){if(!t.current)throw new Error((0,Te.formatProdErrorMessage)(38));return t.current.refetch()}function q(t){let u=(y,r={})=>{let[i]=m(t,y,r);return P(i),(0,n.useMemo)(()=>({refetch:()=>F(i)}),[i])},d=({refetchOnReconnect:y,refetchOnFocus:r,pollingInterval:i=0,skipPollingIfUnfocused:f=!1}={})=>{let{initiate:o}=e.endpoints[t],p=Q(),[l,S]=(0,n.useState)(H),c=(0,n.useRef)(void 0),g=_({refetchOnReconnect:y,refetchOnFocus:r,pollingInterval:i,skipPollingIfUnfocused:f});E(()=>{let x=c.current?.subscriptionOptions;g!==x&&c.current?.updateSubscriptionOptions(g)},[g]);let A=(0,n.useRef)(g);E(()=>{A.current=g},[g]);let U=(0,n.useCallback)(function(x,v=!1){let K;return s(()=>{c.current?.unsubscribe(),c.current=K=p(o(x,{subscriptionOptions:A.current,forceRefetch:!v})),S(x)}),K},[p,o]),k=(0,n.useCallback)(()=>{c.current?.queryCacheKey&&p(e.internalActions.removeQueryResult({queryCacheKey:c.current?.queryCacheKey}))},[p]);return(0,n.useEffect)(()=>()=>{c?.current?.unsubscribe()},[]),(0,n.useEffect)(()=>{l!==H&&!c.current&&U(l,!0)},[l,U]),(0,n.useMemo)(()=>[U,l,{reset:k}],[U,l,k])},a=C(t,te);return{useQueryState:a,useQuerySubscription:u,useLazyQuerySubscription:d,useLazyQuery(y){let[r,i,{reset:f}]=d(y),o=a(i,{...y,skip:i===H}),p=(0,n.useMemo)(()=>({lastArg:i}),[i]);return(0,n.useMemo)(()=>[r,{...o,reset:f},p],[r,o,f,p])},useQuery(y,r){let i=u(y,r),f=a(y,{selectFromResult:y===B.skipToken||r?.skip?void 0:ge,...r}),o=pe(f,...fe);return(0,n.useDebugValue)(o),(0,n.useMemo)(()=>({...f,...i}),[f,i])}}}function ie(t){let u=(a,y={})=>{let[r,i,f,o]=m(t,a,y),p=(0,n.useRef)(o);E(()=>{p.current=o},[o]);let l=(0,n.useCallback)(function(S,c){let g;return s(()=>{r.current?.unsubscribe(),r.current=g=i(f(S,{subscriptionOptions:p.current,direction:c}))}),g},[r,i,f]);return P(r),(0,n.useMemo)(()=>({trigger:l,refetch:()=>F(r),fetchNextPage:()=>l(a,"forward"),fetchPreviousPage:()=>l(a,"backward")}),[r,l,a])},d=C(t,ne);return{useInfiniteQueryState:d,useInfiniteQuerySubscription:u,useInfiniteQuery(a,y){let{refetch:r,fetchNextPage:i,fetchPreviousPage:f}=u(a,y),o=d(a,{selectFromResult:a===B.skipToken||y?.skip?void 0:ge,...y}),p=pe(o,...fe,"hasNextPage","hasPreviousPage");return(0,n.useDebugValue)(p),(0,n.useMemo)(()=>({...o,fetchNextPage:i,fetchPreviousPage:f,refetch:r}),[o,i,f,r])}}}function se(t){return({selectFromResult:u,fixedCacheKey:d}={})=>{let{select:a,initiate:y}=e.endpoints[t],r=Q(),[i,f]=(0,n.useState)();(0,n.useEffect)(()=>()=>{i?.arg.fixedCacheKey||i?.reset()},[i]);let o=(0,n.useCallback)(function(x){let v=r(y(x,{fixedCacheKey:d}));return f(v),v},[r,y,d]),{requestId:p}=i||{},l=(0,n.useMemo)(()=>a({fixedCacheKey:d,requestId:i?.requestId}),[d,i,a]),S=(0,n.useMemo)(()=>u?N([l],u):l,[u,l]),c=T(S,Z.shallowEqual),g=d==null?i?.arg.originalArgs:void 0,A=(0,n.useCallback)(()=>{s(()=>{i&&f(void 0),d&&r(e.internalActions.removeMutationResult({requestId:p,fixedCacheKey:d}))})},[r,d,i,p]),U=pe(c,...fe,"endpointName");(0,n.useDebugValue)(U);let k=(0,n.useMemo)(()=>({...c,originalArgs:g,reset:A}),[c,g,A]);return(0,n.useMemo)(()=>[o,k],[o,k])}}}var Qe=Symbol(),de=({batch:e=O.batch,hooks:s={useDispatch:O.useDispatch,useSelector:O.useSelector,useStore:O.useStore},createSelector:Q=De.createSelector,unstable__sideEffectsInRender:T=!1,...R}={})=>({name:Qe,init(D,{serializeQueryArgs:N},h){let I=D,{buildQueryHooks:E,buildInfiniteQueryHooks:te,buildMutationHook:ne,usePrefetch:re}=Re({api:D,moduleOptions:{batch:e,hooks:s,unstable__sideEffectsInRender:T,createSelector:Q},serializeQueryArgs:N,context:h});return w(I,{usePrefetch:re}),w(h,{batch:e}),{injectEndpoint(m,C){if(ce(C)){let{useQuery:P,useLazyQuery:F,useLazyQuerySubscription:q,useQueryState:ie,useQuerySubscription:se}=E(m);w(I.endpoints[m],{useQuery:P,useLazyQuery:F,useLazyQuerySubscription:q,useQueryState:ie,useQuerySubscription:se}),D[`use${V(m)}Query`]=P,D[`useLazy${V(m)}Query`]=F}if(le(C)){let P=ne(m);w(I.endpoints[m],{useMutation:P}),D[`use${V(m)}Mutation`]=P}else if($(C)){let{useInfiniteQuery:P,useInfiniteQuerySubscription:F,useInfiniteQueryState:q}=te(m);w(I.endpoints[m],{useInfiniteQuery:P,useInfiniteQuerySubscription:F,useInfiniteQueryState:q}),D[`use${V(m)}InfiniteQuery`]=P}}}}});M(b,require("@reduxjs/toolkit/query"),module.exports);var Y=require("@reduxjs/toolkit"),xe=require("react"),me=require("react"),J=Me(require("react")),X=require("react-redux"),Se=require("@reduxjs/toolkit/query");function Ae(e){let s=e.context||X.ReactReduxContext;if((0,xe.useContext)(s))throw new Error((0,Y.formatProdErrorMessage)(35));let[T]=J.useState(()=>(0,Y.configureStore)({reducer:{[e.api.reducerPath]:e.api.reducer},middleware:R=>R().concat(e.api.middleware)}));return(0,me.useEffect)(()=>e.setupListeners===!1?void 0:(0,Se.setupListeners)(T.dispatch,e.setupListeners),[e.setupListeners,T.dispatch]),J.createElement(X.Provider,{store:T,context:s},e.children)}var He=(0,ee.buildCreateApi)((0,ee.coreModule)(),de());0&&(module.exports={ApiProvider,UNINITIALIZED_VALUE,createApi,reactHooksModule,reactHooksModuleName,...require("@reduxjs/toolkit/query")});
//# sourceMappingURL=rtk-query-react.production.min.cjs.map